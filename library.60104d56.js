var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},i=e.parcelRequired7c6;null==i&&((i=function(e){if(e in t)return t[e].exports;if(e in n){var i=n[e];delete n[e];var a={id:e,exports:{}};return t[e]=a,i.call(a.exports,a,a.exports),a.exports}var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(e,t){n[e]=t},e.parcelRequired7c6=i),i("hv3Jw"),i("gjiCh");const a={watchedBtnLib:document.querySelector("[data-lib-watched]"),queueBtnLib:document.querySelector("[data-lib-queue]"),filmLibList:document.querySelector(".film-list")};function s(e){console.log(e);const t=e.map((e=>`<li class="cards__item" data-id=${e.id}> \n          <img \n            class="cards__photo" \n            alt="film" \n            src="https://image.tmdb.org/t/p/w500${e.poster_path}" \n            width="395" \n            loading="lazy" \n          /> \n          <h3 class="cards__title">${e.title}</h3> \n          <p class="cards__info">${e.genres.map((({name:e})=>e)).join(", ")} | ${e.release_date}</p> \n          <p class="rating">${e.vote_average.toFixed(1)}</p>\n        </li>`)).join("");return a.filmLibList.innerHTML=t,t}function l(){const e=JSON.parse(localStorage.getItem("watched"))||[];e.length?(s(e),a.watchedBtnLib.classList.add("active"),a.queueBtnLib.classList.remove("active")):a.filmLibList.innerHTML="Not films"}function o(){const e=JSON.parse(localStorage.getItem("queue"))||[];e.length?(s(e),a.queueBtnLib.classList.add("active"),a.watchedBtnLib.classList.remove("active")):a.filmLibList.innerHTML="Not films"}a.watchedBtnLib.addEventListener("click",l),a.queueBtnLib.addEventListener("click",o),l(),o(),i("6HA5D");var c=i("hv3Jw"),d=i("krGWQ"),r=i("37v9V"),u=i("31u3U");const p=new(0,c.FilmAPI),m=document.querySelector(".backdrop__modal-film"),f=document.querySelector("#modal-close-button"),v=document.querySelector(".modal-film__info");function L(){m.classList.add("is-hidden"),v.innerHTML="",h()}function b(e){"Escape"===e.code&&(m.classList.add("is-hidden"),v.innerHTML="",h())}function w(e){e.target===e.currentTarget&&(m.classList.add("is-hidden"),v.innerHTML="",h())}function h(){window.removeEventListener("keydown",b),window.removeEventListener("click",w),f.removeEventListener("click",L)}d.refs.cardsListEl.addEventListener("click",(async function(e){if(!e.target.closest("[data-id]"))return;const t=e.target.closest("li").dataset.id,n=await p.getFilmDetails(t);console.log(n),function(e){const{title:t,vote_average:n,vote_count:i,popularity:a,original_title:s,overview:l,genres:o,poster_path:c,id:d}=e,r=o.map((e=>e.name)),u=`\n        <div class="film-card">\n            <div class="film-card__img">\n            <img class="film-card__picture" src="https://image.tmdb.org/t/p/w500${c}" alt="${t}" width="375">\n            </div>\n            <div class="film-card__info">\n            <h2 class="film-card__title">${t}</h2>\n            <div class="film-card__general-info">\n                <ul class="info-list">\n                <li class="info">\n                <p class="info-item">Vote/Votes</p>\n                <p class="info-result"><span class="accent-vote">${n.toFixed(1)}</span>/${i}</p>\n                </li>\n                <li class="info">\n                <p class="info-item">Popularity</p>\n                <p class="info-result">${a.toFixed(1)}</p>\n                </li>\n                <li class="info">\n                <p class="info-item">Original Title</p>\n                <p class="info-result  to-up">${s}</p>\n                </li>\n                <li class="info">\n                <p class="info-item">Genre</p>\n                <p class="info-result">${[...r]}</p>\n                </li>\n                </ul>\n            </div>\n            <p class="film-card__overview-title">About</p>\n            <p class="film-card__overview">${l}</p>\n            <div class="modal-film__buttons-block">\n                <button type="submit" class="btn-watched button" data-modal-watched-id=${d}>\n        Add to watched</button>\n                <button type="submit" class="btn-queue button" data-modal-queue-id=${d}>\n        Add to queue</button>\n                <button type="submit" class="btn-trailer button" data-modal-trailer><span></span>\n        <span></span>\n        <span></span>\n        <span></span>Watch trailer</button>\n            </div>\n            </div>\n        </div>\n    `;v.innerHTML=u}(n),d.refs.openTrailerFilm=document.querySelector("[data-modal-trailer]"),d.refs.openTrailerFilm.addEventListener("click",(()=>{(0,r.onOpenVideo)(t)})),d.refs.watchedBtn=document.querySelector("[data-modal-watched-id]"),d.refs.queueBtn=document.querySelector("[data-modal-queue-id]"),console.log(d.refs.queueBtn),d.refs.watchedBtn.addEventListener("click",u.onWatchedBtnClick),d.refs.queueBtn.addEventListener("click",u.onQueueBtnClick),m.classList.remove("is-hidden"),window.addEventListener("click",w),window.addEventListener("keydown",b),f.addEventListener("click",L)})),i("31u3U"),i("37v9V"),i("ipUyS");
//# sourceMappingURL=library.60104d56.js.map
