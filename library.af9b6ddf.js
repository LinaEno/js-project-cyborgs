function e(e,t,n,i){Object.defineProperty(e,t,{get:n,set:i,enumerable:!0,configurable:!0})}function t(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},i={},a={},o=n.parcelRequired7c6;null==o&&((o=function(e){if(e in i)return i[e].exports;if(e in a){var t=a[e];delete a[e];var n={id:e,exports:{}};return i[e]=n,t.call(n.exports,n,n.exports),n.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){a[e]=t},n.parcelRequired7c6=o),o.register("kyEFX",(function(t,n){var i,a;e(t.exports,"register",(function(){return i}),(function(e){return i=e})),e(t.exports,"resolve",(function(){return a}),(function(e){return a=e}));var o={};i=function(e){for(var t=Object.keys(e),n=0;n<t.length;n++)o[t[n]]=e[t[n]]},a=function(e){var t=o[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),o("kyEFX").register(JSON.parse('{"QBut0":"library.af9b6ddf.js","bptEZ":"lenta.20eb106a.png","5UbS1":"index.665f6faa.css","YufyT":"index.1c2b4f45.js"}')),o("hv3Jw"),o("gjiCh");const l={watchedBtnLib:document.querySelector("[data-lib-watched]"),queueBtnLib:document.querySelector("[data-lib-queue]"),filmLibList:document.querySelector(".film-list"),galleryCont:document.querySelector(".gallery-container")};function s(e){console.log(e);const t=e.map((e=>`<li class="cards__item" data-id=${e.id}> \n          <img \n            class="cards__photo" \n            alt="film" \n            src=${e.poster_path?"https://image.tmdb.org/t/p/w500/"+e.poster_path:defimg} \n            width="395" \n            loading="lazy" \n          /> \n          <h3 class="cards__title">${e.title}</h3> \n          <p class="cards__info">${e.genres.map((({name:e})=>e)).join(", ")} | ${e.release_date}</p> \n          <p class="rating">${e.vote_average.toFixed(1)}</p>\n        </li>`)).join("");return l.filmLibList.innerHTML=t,t}var r;function c(){const e=JSON.parse(localStorage.getItem("watched"))||[];e.length?(s(e),l.watchedBtnLib.classList.add("active"),l.queueBtnLib.classList.remove("active")):l.galleryCont.innerHTML=`<p class="lib-text">There are no films here yet</p>\n<img src="${t(r)}" alt="lenta" width="500">`}function d(){const e=JSON.parse(localStorage.getItem("queue"))||[];e.length?(s(e),l.queueBtnLib.classList.add("active"),l.watchedBtnLib.classList.remove("active")):l.filmLibList.innerHTML=`<p class="lib-text">There are no films here ... yet!\n<img src="${t(r)}" alt="lenta" width="500"></p>`}r=new URL(o("kyEFX").resolve("bptEZ"),import.meta.url).toString(),c(),d(),l.watchedBtnLib.addEventListener("click",c),l.queueBtnLib.addEventListener("click",d),o("6HA5D");var u=o("hv3Jw"),m=o("37v9V"),p=o("31u3U");const f=new(0,u.FilmAPI),v=document.querySelector(".backdrop__modal-film"),b=document.querySelector("#modal-close-button"),g=document.querySelector(".modal-film__info");function h(){v.classList.add("is-hidden"),g.innerHTML="",L()}function _(e){"Escape"===e.code&&(v.classList.add("is-hidden"),g.innerHTML="",L())}function w(e){e.target===e.currentTarget&&(v.classList.add("is-hidden"),g.innerHTML="",L())}function L(){window.removeEventListener("keydown",_),window.removeEventListener("click",w),b.removeEventListener("click",h)}l.filmLibList.addEventListener("click",(async function(e){if(!e.target.closest("[data-id]"))return;const t=e.target.closest("li").dataset.id,n=await f.getFilmDetails(t);console.log(n),function(e){const{title:t,vote_average:n,vote_count:i,popularity:a,original_title:o,overview:l,genres:s,poster_path:r,id:c}=e,d=JSON.parse(localStorage.getItem("watched"))||[],u=JSON.parse(localStorage.getItem("queue"))||[],m=d.some((e=>e.id===c)),p=u.some((e=>e.id===c)),f=s.map((e=>e.name)),v=`\n        <div class="film-card">\n            <div class="film-card__img">\n            <img class="film-card__picture" src=${r?"https://image.tmdb.org/t/p/w500/"+r:defimg} alt="${t}" width="375">\n            </div>\n            <div class="film-card__info">\n            <h2 class="film-card__title">${t}</h2>\n            <div class="film-card__general-info">\n                <ul class="info-list">\n                <li class="info">\n                <p class="info-item">Vote/Votes</p>\n                <p class="info-result"><span class="accent-vote">${n.toFixed(1)}</span>/${i}</p>\n                </li>\n                <li class="info">\n                <p class="info-item">Popularity</p>\n                <p class="info-result">${a.toFixed(1)}</p>\n                </li>\n                <li class="info">\n                <p class="info-item">Original Title</p>\n                <p class="info-result  to-up">${o}</p>\n                </li>\n                <li class="info">\n                <p class="info-item">Genre</p>\n                <p class="info-result">${[...f]}</p>\n                </li>\n                </ul>\n            </div>\n            <p class="film-card__overview-title">About</p>\n            <p class="film-card__overview">${l}</p>\n            <div class="modal-film__buttons-block">\n                <button type="submit" class="btn-watched button" data-modal-watched-id=${c} data-action="${m?"remove":"add"}">\n        ${m?"Remove from watched":"Add to watch"}</button>\n                <button type="submit" class="btn-queue button" data-modal-queue-id=${c}  data-action="${p?"remove":"add"}">\n        ${p?"Remove from queue":"Add to queue"}</button>\n                <button type="submit" class="btn-trailer button" data-modal-trailer><span></span>\n        <span></span>\n        <span></span>\n        <span></span>Watch trailer</button>\n            </div>\n            </div>\n        </div>\n    `;g.innerHTML=v}(n),(l.openTrailerFilm=document.querySelector("[data-modal-trailer]")).addEventListener("click",(()=>{(0,m.onOpenVideo)(t)})),l.watchedBtn=document.querySelector("[data-modal-watched-id]"),l.queueBtn=document.querySelector("[data-modal-queue-id]"),console.log(l.queueBtn),l.watchedBtn.addEventListener("click",p.onWatchedBtnClick),l.queueBtn.addEventListener("click",p.onQueueBtnClick),v.classList.remove("is-hidden"),window.addEventListener("click",w),window.addEventListener("keydown",_),b.addEventListener("click",h)})),o("31u3U"),o("37v9V"),o("ipUyS"),o("j5rim");
//# sourceMappingURL=library.af9b6ddf.js.map
