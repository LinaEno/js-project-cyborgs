var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},a=e.parcelRequired7c6;null==a&&((a=function(e){if(e in t)return t[e].exports;if(e in n){var a=n[e];delete n[e];var i={id:e,exports:{}};return t[e]=i,a.call(i.exports,i,i.exports),i.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){n[e]=t},e.parcelRequired7c6=a),a("hv3Jw"),a("gjiCh");var i=a("hv3Jw");const o={searchForm:document.querySelector(".js-search-form"),formWarning:document.querySelector(".header-form__warning"),cardsListEl:document.querySelector(".cards__list"),backdrop:document.querySelector(".backdrop"),closeModalBtn:document.querySelector(".btn-close"),trailerBtn:document.querySelector("[data-modal-trailer]"),openTrailerFilm:null,watchedBtn:null,queueBtn:null};var r=a("37v9V"),d=a("31u3U");const c=new(0,i.FilmAPI),s=document.querySelector(".backdrop__modal-film"),l=document.querySelector("#modal-close-button"),u=document.querySelector(".modal-film__info");function m(){s.classList.add("is-hidden"),u.innerHTML="",g()}function h(e){"Escape"===e.code&&(s.classList.add("is-hidden"),u.innerHTML="",g())}function f(e){e.target===e.currentTarget&&(s.classList.add("is-hidden"),u.innerHTML="",g())}function g(){window.removeEventListener("keydown",h),window.removeEventListener("click",f),l.removeEventListener("click",m)}o.cardsListEl.addEventListener("click",(async function(e){if(!e.target.closest("[data-id]"))return;const t=e.target.closest("li").dataset.id,n=await c.getFilmDetails(t);console.log(n),function(e){const{title:t,vote_average:n,vote_count:a,popularity:i,original_title:o,overview:r,genres:d,poster_path:c,id:s}=e,l=JSON.parse(localStorage.getItem("watched"))||[],m=JSON.parse(localStorage.getItem("queue"))||[],h=l.some((e=>e.id===s)),f=m.some((e=>e.id===s)),g=d.map((e=>e.name)),p=`\n        <div class="film-card">\n            <div class="film-card__img">\n            <img class="film-card__picture" src="https://image.tmdb.org/t/p/w500${c}" alt="${t}" width="375">\n            </div>\n            <div class="film-card__info">\n            <h2 class="film-card__title">${t}</h2>\n            <div class="film-card__general-info">\n                <ul class="info-list">\n                <li class="info">\n                <p class="info-item">Vote/Votes</p>\n                <p class="info-result"><span class="accent-vote">${n.toFixed(1)}</span>/${a}</p>\n                </li>\n                <li class="info">\n                <p class="info-item">Popularity</p>\n                <p class="info-result">${i.toFixed(1)}</p>\n                </li>\n                <li class="info">\n                <p class="info-item">Original Title</p>\n                <p class="info-result  to-up">${o}</p>\n                </li>\n                <li class="info">\n                <p class="info-item">Genre</p>\n                <p class="info-result">${[...g]}</p>\n                </li>\n                </ul>\n            </div>\n            <p class="film-card__overview-title">About</p>\n            <p class="film-card__overview">${r}</p>\n            <div class="modal-film__buttons-block">\n                <button type="submit" class="btn-watched button" data-modal-watched-id=${s} data-action="${h?"remove":"add"}">\n        ${h?"Remove from watched":"Add to watch"}</button>\n                <button type="submit" class="btn-queue button" data-modal-queue-id=${s}  data-action="${f?"remove":"add"}">\n        ${f?"Remove from queue":"Add to queue"}</button>\n                <button type="submit" class="btn-trailer button" data-modal-trailer><span></span>\n        <span></span>\n        <span></span>\n        <span></span>Watch trailer</button>\n            </div>\n            </div>\n        </div>\n    `;u.innerHTML=p}(n),(o.openTrailerFilm=document.querySelector("[data-modal-trailer]")).addEventListener("click",(()=>{(0,r.onOpenVideo)(t)})),o.watchedBtn=document.querySelector("[data-modal-watched-id]"),o.queueBtn=document.querySelector("[data-modal-queue-id]"),console.log(o.queueBtn),o.watchedBtn.addEventListener("click",d.onWatchedBtnClick),o.queueBtn.addEventListener("click",d.onQueueBtnClick),s.classList.remove("is-hidden"),window.addEventListener("click",f),window.addEventListener("keydown",h),l.addEventListener("click",m)}));var p=a("2shzp");i=a("hv3Jw");const v=[{id:28,name:"Action"},{id:12,name:"Adventure"},{id:16,name:"Animation"},{id:35,name:"Comedy"},{id:80,name:"Crime"},{id:99,name:"Documentary"},{id:18,name:"Drama"},{id:10751,name:"Family"},{id:14,name:"Fantasy"},{id:36,name:"History"},{id:27,name:"Horror"},{id:10402,name:"Music"},{id:9648,name:"Mystery"},{id:10749,name:"Romance"},{id:878,name:"Science Fiction"},{id:10770,name:"TV Movie"},{id:53,name:"Thriller"},{id:10752,name:"War"},{id:37,name:"Western"}],y=(new(0,i.FilmAPI),document.querySelector(".cards__list"));async function w(e=1){const{data:t}=await p.default.get(`https://api.themoviedb.org/3/trending/movie/week?api_key=2963fc82afd3cb57f64d050a1ba5935c&page=${e}`);return console.log(t),t.results}function x(e){const t=e.map((e=>`<li class="cards__item" data-id=${e.id}> \n          <img \n            class="cards__photo" \n            alt="film" \n            src="https://image.tmdb.org/t/p/w500${e.poster_path}" \n            width="280" \n            loading="lazy" \n          /> \n          <h3 class="cards__title">${e.title}</h3> \n          <p class="cards__info">${function(e,t){const n=e.reduce(((e,n)=>t.includes(n.id)?[...e,n.name]:e),[]);return n.length>2?n.slice(0,2)+",Other":n}(v,e.genre_ids)} | ${e.release_date}</p> \n          <p class="rating">${e.vote_average.toFixed(1)}</p>\n        </li>`)).join("");return y.insertAdjacentHTML("beforeend",t),t}!async function(){try{x(await w())}catch(e){console.log(e)}}();const b=document.querySelector('[data-index="1"]'),_=document.querySelector('[data-index="2"]'),C=document.querySelector('[data-index="3"]'),L=document.querySelector('[data-index="4"]'),q=document.querySelector('[data-index="5"]'),S=document.querySelector(".first-button"),M=document.querySelector(".last-button"),E=document.querySelector(".pagination-container"),T=document.querySelector(".arrow-right"),N=document.querySelector(".arrow-left"),$=document.querySelector("#previous"),H=document.querySelector("#after");E.addEventListener("click",(function(e){"BUTTON"===e.target.tagName&&(Number(e.target.textContent)&&(k=Number(e.target.textContent)),$.hidden=!0,H.hidden=!0,e.target.classList.contains("pagination-button")&&(B.forEach((e=>e.classList.remove("pagination--current"))),e.target.classList.add("pagination--current")),e.target.classList.contains("arrow-right")&&k<1e3&&(B.forEach((e=>e.classList.remove("pagination--current"))),b.classList.add("pagination--current"),b.textContent=Number(b.textContent)+5,_.textContent=Number(_.textContent)+5,C.textContent=Number(C.textContent)+5,L.textContent=Number(L.textContent)+5,q.textContent=Number(q.textContent)+5,k=b.textContent),e.target.classList.contains("arrow-left")&&k>=5&&(B.forEach((e=>e.classList.remove("pagination--current"))),b.textContent=Number(b.textContent)-5,_.textContent=Number(_.textContent)-5,C.textContent=Number(C.textContent)-5,L.textContent=Number(L.textContent)-5,q.textContent=Number(q.textContent)-5,q.classList.add("pagination--current"),k=q.textContent),e.target.classList.contains("first-button")&&(B.forEach((e=>e.classList.remove("pagination--current"))),b.textContent=1,_.textContent=2,C.textContent=3,L.textContent=4,q.textContent=5,b.classList.add("pagination--current"),k=b.textContent,N.hidden=!0,$.hidden=!0,S.hidden=!0),e.target.classList.contains("last-button")&&(B.forEach((e=>e.classList.remove("pagination--current"))),b.textContent=Number(M.textContent)-4,_.textContent=Number(M.textContent)-3,C.textContent=Number(M.textContent)-2,L.textContent=Number(M.textContent)-1,q.textContent=M.textContent,q.classList.add("pagination--current"),k=q.textContent,T.hidden=!0,H.hidden=!0,M.hidden=!0),Number(k)>5?(N.hidden=!1,$.hidden=!1,S.hidden=!1):(N.hidden=!0,$.hidden=!0,S.hidden=!0),Number(k)<996&&(T.hidden=!1,H.hidden=!1,M.hidden=!1),window.scrollTo({top:0,behavior:"smooth"}),w(k).then((e=>{y.innerHTML=x(e),console.log(e)})))}));let k=1,B=document.querySelectorAll(".pagination-button");$.hidden=!0,N.hidden=!0,S.hidden=!0;i=a("hv3Jw");var F=a("ipUyS");const V=new(0,i.FilmAPI),A=document.querySelector(".pagination-container"),z=document.querySelector(".footer"),W=document.querySelector("body");o.searchForm.addEventListener("submit",(async e=>{e.preventDefault(),V.searchQuery=e.target.elements.query.value.trim(),V.page=1,o.formWarning.textContent="";try{const t=await V.getFilmsByName();if(!t.results.length)return setTimeout((()=>{console.log("hi"),o.formWarning.classList.add("is-hidden")}),1e4),o.formWarning.classList.remove("is-hidden"),e.target.reset(),o.formWarning.textContent=O(),o.cardsListEl.innerHTML=R,F.toTop.style.visibility="hidden",A.style.display="none",z.style.display="none",void(W.style.backgroundColor="black");o.cardsListEl.innerHTML=x(t.results),e.target.reset()}catch(e){console.log(e)}}));const P=["Search result not successful. Enter the correct movie name and try again."];function O(){let e=0,t=0,n="",a=document.querySelector(".header-form__warning");!function i(){let o=setTimeout((function(){if(n+=P[e][t],a.innerHTML=n+"|",t++,t>=P[e].length&&(t=0,e++,e===P.length))return clearTimeout(o),a.innerHTML=n,!0;i()}),(r=100,Math.floor(Math.random()*Math.floor(r))));var r}()}function R(){return'<div class="error"></div>\n<svg id="svgWrap_2" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" viewBox="0 0 700 250">\n    <g>\n        <path id="id3_2"\n            d="M195.7 232.67h-37.1V149.7H27.76c-2.64 0-5.1-.5-7.36-1.49-2.27-.99-4.23-2.31-5.88-3.96-1.65-1.65-2.95-3.61-3.89-5.88s-1.42-4.67-1.42-7.22V29.62h36.82v82.98H158.6V29.62h37.1v203.05z" />\n        <path id="id2_2"\n            d="M470.69 147.71c0 8.31-1.06 16.17-3.19 23.58-2.12 7.41-5.12 14.28-8.99 20.6-3.87 6.33-8.45 11.99-13.74 16.99-5.29 5-11.07 9.28-17.35 12.81a85.146 85.146 0 0 1-20.04 8.14 83.637 83.637 0 0 1-21.67 2.83H319.3c-7.46 0-14.73-.94-21.81-2.83-7.08-1.89-13.76-4.6-20.04-8.14a88.292 88.292 0 0 1-17.35-12.81c-5.29-5-9.84-10.67-13.66-16.99-3.82-6.32-6.8-13.19-8.92-20.6-2.12-7.41-3.19-15.27-3.19-23.58v-33.13c0-12.46 2.34-23.88 7.01-34.27 4.67-10.38 10.92-19.33 18.76-26.83 7.83-7.5 16.87-13.36 27.12-17.56 10.24-4.2 20.93-6.3 32.07-6.3h66.41c7.36 0 14.58.94 21.67 2.83 7.08 1.89 13.76 4.6 20.04 8.14a88.292 88.292 0 0 1 17.35 12.81c5.29 5 9.86 10.67 13.74 16.99 3.87 6.33 6.87 13.19 8.99 20.6 2.13 7.41 3.19 15.27 3.19 23.58v33.14zm-37.1-33.13c0-7.27-1.32-13.88-3.96-19.82-2.64-5.95-6.16-11.04-10.55-15.29-4.39-4.25-9.46-7.5-15.22-9.77-5.76-2.27-11.8-3.35-18.13-3.26h-66.41c-6.14-.09-12.11.97-17.91 3.19-5.81 2.22-10.95 5.43-15.44 9.63-4.48 4.2-8.07 9.3-10.76 15.29-2.69 6-4.04 12.67-4.04 20.04v33.13c0 7.36 1.32 14.02 3.96 19.97 2.64 5.95 6.18 11.02 10.62 15.22 4.44 4.2 9.56 7.43 15.36 9.7 5.8 2.27 11.87 3.35 18.2 3.26h66.41c7.27 0 13.85-1.2 19.75-3.61s10.93-5.73 15.08-9.98 7.36-9.32 9.63-15.22c2.27-5.9 3.4-12.34 3.4-19.33v-33.15zm-16-26.91a17.89 17.89 0 0 1 2.83 6.73c.47 2.41.47 4.77 0 7.08-.47 2.31-1.39 4.48-2.76 6.51-1.37 2.03-3.14 3.75-5.31 5.17l-99.4 66.41c-1.61 1.23-3.26 2.08-4.96 2.55-1.7.47-3.45.71-5.24.71-3.02 0-5.9-.71-8.64-2.12-2.74-1.42-4.96-3.44-6.66-6.09a17.89 17.89 0 0 1-2.83-6.73c-.47-2.41-.5-4.77-.07-7.08.43-2.31 1.3-4.48 2.62-6.51 1.32-2.03 3.07-3.75 5.24-5.17l99.69-66.41a17.89 17.89 0 0 1 6.73-2.83c2.41-.47 4.77-.47 7.08 0 2.31.47 4.48 1.37 6.51 2.69 2.03 1.32 3.75 3.02 5.17 5.09z" />\n        <path id="id1_2"\n            d="M688.33 232.67h-37.1V149.7H520.39c-2.64 0-5.1-.5-7.36-1.49-2.27-.99-4.23-2.31-5.88-3.96-1.65-1.65-2.95-3.61-3.89-5.88s-1.42-4.67-1.42-7.22V29.62h36.82v82.98h112.57V29.62h37.1v203.05z" />\n    </g>\n</svg>\n<svg id="svgWrap_1" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" viewBox="0 0 700 250">\n    <g>\n        <path id="id3_1"\n            d="M195.7 232.67h-37.1V149.7H27.76c-2.64 0-5.1-.5-7.36-1.49-2.27-.99-4.23-2.31-5.88-3.96-1.65-1.65-2.95-3.61-3.89-5.88s-1.42-4.67-1.42-7.22V29.62h36.82v82.98H158.6V29.62h37.1v203.05z" />\n        <path id="id2_1"\n            d="M470.69 147.71c0 8.31-1.06 16.17-3.19 23.58-2.12 7.41-5.12 14.28-8.99 20.6-3.87 6.33-8.45 11.99-13.74 16.99-5.29 5-11.07 9.28-17.35 12.81a85.146 85.146 0 0 1-20.04 8.14 83.637 83.637 0 0 1-21.67 2.83H319.3c-7.46 0-14.73-.94-21.81-2.83-7.08-1.89-13.76-4.6-20.04-8.14a88.292 88.292 0 0 1-17.35-12.81c-5.29-5-9.84-10.67-13.66-16.99-3.82-6.32-6.8-13.19-8.92-20.6-2.12-7.41-3.19-15.27-3.19-23.58v-33.13c0-12.46 2.34-23.88 7.01-34.27 4.67-10.38 10.92-19.33 18.76-26.83 7.83-7.5 16.87-13.36 27.12-17.56 10.24-4.2 20.93-6.3 32.07-6.3h66.41c7.36 0 14.58.94 21.67 2.83 7.08 1.89 13.76 4.6 20.04 8.14a88.292 88.292 0 0 1 17.35 12.81c5.29 5 9.86 10.67 13.74 16.99 3.87 6.33 6.87 13.19 8.99 20.6 2.13 7.41 3.19 15.27 3.19 23.58v33.14zm-37.1-33.13c0-7.27-1.32-13.88-3.96-19.82-2.64-5.95-6.16-11.04-10.55-15.29-4.39-4.25-9.46-7.5-15.22-9.77-5.76-2.27-11.8-3.35-18.13-3.26h-66.41c-6.14-.09-12.11.97-17.91 3.19-5.81 2.22-10.95 5.43-15.44 9.63-4.48 4.2-8.07 9.3-10.76 15.29-2.69 6-4.04 12.67-4.04 20.04v33.13c0 7.36 1.32 14.02 3.96 19.97 2.64 5.95 6.18 11.02 10.62 15.22 4.44 4.2 9.56 7.43 15.36 9.7 5.8 2.27 11.87 3.35 18.2 3.26h66.41c7.27 0 13.85-1.2 19.75-3.61s10.93-5.73 15.08-9.98 7.36-9.32 9.63-15.22c2.27-5.9 3.4-12.34 3.4-19.33v-33.15zm-16-26.91a17.89 17.89 0 0 1 2.83 6.73c.47 2.41.47 4.77 0 7.08-.47 2.31-1.39 4.48-2.76 6.51-1.37 2.03-3.14 3.75-5.31 5.17l-99.4 66.41c-1.61 1.23-3.26 2.08-4.96 2.55-1.7.47-3.45.71-5.24.71-3.02 0-5.9-.71-8.64-2.12-2.74-1.42-4.96-3.44-6.66-6.09a17.89 17.89 0 0 1-2.83-6.73c-.47-2.41-.5-4.77-.07-7.08.43-2.31 1.3-4.48 2.62-6.51 1.32-2.03 3.07-3.75 5.24-5.17l99.69-66.41a17.89 17.89 0 0 1 6.73-2.83c2.41-.47 4.77-.47 7.08 0 2.31.47 4.48 1.37 6.51 2.69 2.03 1.32 3.75 3.02 5.17 5.09z" />\n        <path id="id1_1"\n            d="M688.33 232.67h-37.1V149.7H520.39c-2.64 0-5.1-.5-7.36-1.49-2.27-.99-4.23-2.31-5.88-3.96-1.65-1.65-2.95-3.61-3.89-5.88s-1.42-4.67-1.42-7.22V29.62h36.82v82.98h112.57V29.62h37.1v203.05z" />\n    </g>\n</svg>\n\n<svg>\n    <defs>\n        <filter id="glow">\n            <fegaussianblur class="blur" result="coloredBlur" stddeviation="4"></fegaussianblur>\n            <femerge>\n                <femergenode in="coloredBlur"></femergenode>\n                <femergenode in="SourceGraphic"></femergenode>\n            </femerge>\n        </filter>\n    </defs>\n</svg>\n\n<h4 class="error-message">Page Not Found\n<a href="./index.html" class="button btn-err">Go Back</a>\n</h4>'}function I(e){if(e=Object.assign({mean:0,dev:1,pool:[]},e),Array.isArray(e.pool)&&e.pool.length>0)return function(e){var t=0;do{var n=Math.round(normal({mean:e.mean,dev:e.dev}));if(n<e.pool.length&&n>=0)return e.pool[n];t++}while(t<100)}(e);var t,n,a,i=e.mean,o=e.dev;do{t=(n=2*Math.random()-1)*n+(a=2*Math.random()-1)*a}while(t>=1);return o*(n*Math.sqrt(-2*Math.log(t)/t))+i}O(),a("6HA5D"),a("31u3U"),a("37v9V"),a("ipUyS");let D=[];function U(e,t){return Math.random()*(t-e)+e}function J(e){const t=255,n=I({mean:125,dev:20}),a=50,i=U(0,1);return{x:-2,y:-2,diameter:Math.max(0,I({mean:.5,dev:.25})),duration:I({mean:3e4,dev:3e3}),amplitude:I({mean:16,dev:2}),offsetY:I({mean:0,dev:10}),arc:2*Math.PI,startTime:performance.now()-U(0,3e4),colour:`rgba(${t}, ${n}, ${a}, ${i})`}}function j(e,t,n){D.forEach(((t,n)=>{D[n]=function(e,t,n){const a=(n-e.startTime)%e.duration/e.duration;return{...e,x:a,y:Math.sin(a*e.arc)*e.amplitude+e.offsetY}}(t,0,e)})),n.clearRect(0,0,t.width,t.height),D.forEach((e=>{!function(e,t,n){const a=(t=document.getElementById("particle-canvas")).height/100;n.fillStyle=e.colour,n.beginPath(),n.ellipse(e.x*t.width,e.y*a+t.height/2,e.diameter*a,e.diameter*a,0,0,2*Math.PI),n.fill()}(e,t,n)})),requestAnimationFrame((e=>j(e,t,n)))}function G(){const[e,t]=function(){let e=document.getElementById("particle-canvas");e.width=e.offsetWidth*window.devicePixelRatio,e.height=e.offsetHeight*window.devicePixelRatio;let t=e.getContext("2d");return window.addEventListener("resize",(()=>{e.width=e.offsetWidth*window.devicePixelRatio,e.height=e.offsetHeight*window.devicePixelRatio,t=e.getContext("2d")})),[e,t]}();for(let e=0;e<700;e++)D.push(J());requestAnimationFrame((n=>j(n,e,t)))}"loading"!==document.readystate?G():document.addEventListener("DOMContentLoaded",(()=>{G()}));
//# sourceMappingURL=index.6772339b.js.map
