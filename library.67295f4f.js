!function(){function e(e,t,n,i){Object.defineProperty(e,t,{get:n,set:i,enumerable:!0,configurable:!0})}function t(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},i={},a={},r=n.parcelRequired7c6;null==r&&((r=function(e){if(e in i)return i[e].exports;if(e in a){var t=a[e];delete a[e];var n={id:e,exports:{}};return i[e]=n,t.call(n.exports,n,n.exports),n.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){a[e]=t},n.parcelRequired7c6=r),r.register("iE7OH",(function(t,n){var i,a;e(t.exports,"register",(function(){return i}),(function(e){return i=e})),e(t.exports,"resolve",(function(){return a}),(function(e){return a=e}));var r={};i=function(e){for(var t=Object.keys(e),n=0;n<t.length;n++)r[t[n]]=e[t[n]]},a=function(e){var t=r[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),r.register("aNJCr",(function(t,n){var i;e(t.exports,"getBundleURL",(function(){return i}),(function(e){return i=e}));var a={};function r(e){return(""+e).replace(/^((?:https?|file|ftp|(chrome|moz)-extension):\/\/.+)\/[^/]+$/,"$1")+"/"}i=function(e){var t=a[e];return t||(t=function(){try{throw new Error}catch(t){var e=(""+t.stack).match(/(https?|file|ftp|(chrome|moz)-extension):\/\/[^)\n]+/g);if(e)return r(e[2])}return"/"}(),a[e]=t),t}})),r("iE7OH").register(JSON.parse('{"27Kop":"library.67295f4f.js","4gX1q":"lenta.20eb106a.png","5UbS1":"index.665f6faa.css","j1QQf":"index.ab40fd9f.js"}')),r("f8mqk"),r("kvC6y");var c={watchedBtnLib:document.querySelector("[data-lib-watched]"),queueBtnLib:document.querySelector("[data-lib-queue]"),filmLibList:document.querySelector(".film-list"),galleryCont:document.querySelector(".gallery-container")};function o(e){console.log(e);var t=e.map((function(e){return'<li class="cards__item" data-id='.concat(e.id,'> \n          <img \n            class="cards__photo" \n            alt="film" \n            src=').concat(e.poster_path?"https://image.tmdb.org/t/p/w500/"+e.poster_path:defimg,' \n            width="395" \n            loading="lazy" \n          /> \n          <h3 class="cards__title">').concat(e.title,'</h3> \n          <p class="cards__info">').concat(e.genres.map((function(e){return e.name})).join(", ")," | ").concat(e.release_date,'</p> \n          <p class="rating">').concat(e.vote_average.toFixed(1),"</p>\n        </li>")})).join("");return c.filmLibList.innerHTML=t,t}var l;function s(){var e=JSON.parse(localStorage.getItem("watched"))||[];e.length?(o(e),c.watchedBtnLib.classList.add("active"),c.queueBtnLib.classList.remove("active")):c.galleryCont.innerHTML='<p class="lib-text">There are no films here yet</p>\n<img src="'.concat(t(l),'" alt="lenta" width="500">')}function d(){var e=JSON.parse(localStorage.getItem("queue"))||[];e.length?(o(e),c.queueBtnLib.classList.add("active"),c.watchedBtnLib.classList.remove("active")):c.filmLibList.innerHTML='<p class="lib-text">There are no films here ... yet!\n<img src="'.concat(t(l),'" alt="lenta" width="500"></p>')}l=r("aNJCr").getBundleURL("27Kop")+r("iE7OH").resolve("4gX1q"),s(),d(),c.watchedBtnLib.addEventListener("click",s),c.queueBtnLib.addEventListener("click",d),r("4F07H");var u=r("bpxeT"),f=r("8nrFW"),p=r("2TvXO"),m=r("f8mqk"),v=r("cDXQO"),g=r("UL92Z"),h=new(0,m.FilmAPI),b=document.querySelector(".backdrop__modal-film"),L=document.querySelector("#modal-close-button"),_=document.querySelector(".modal-film__info");function w(){return(w=t(u)(t(p).mark((function e(n){var i,a;return t(p).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.target.closest("[data-id]")){e.next=2;break}return e.abrupt("return");case 2:return i=n.target.closest("li").dataset.id,e.next=5,h.getFilmDetails(i);case 5:a=e.sent,console.log(a),k(a),(c.openTrailerFilm=document.querySelector("[data-modal-trailer]")).addEventListener("click",(function(){(0,v.onOpenVideo)(i)})),c.watchedBtn=document.querySelector("[data-modal-watched-id]"),c.queueBtn=document.querySelector("[data-modal-queue-id]"),console.log(c.queueBtn),c.watchedBtn.addEventListener("click",g.onWatchedBtnClick),c.queueBtn.addEventListener("click",g.onQueueBtnClick),b.classList.remove("is-hidden"),window.addEventListener("click",E),window.addEventListener("keydown",q),L.addEventListener("click",y);case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(){b.classList.add("is-hidden"),_.innerHTML="",S()}function q(e){"Escape"===e.code&&(b.classList.add("is-hidden"),_.innerHTML="",S())}function E(e){e.target===e.currentTarget&&(b.classList.add("is-hidden"),_.innerHTML="",S())}function S(){window.removeEventListener("keydown",q),window.removeEventListener("click",E),L.removeEventListener("click",y)}function k(e){var n=e.title,i=e.vote_average,a=e.vote_count,r=e.popularity,c=e.original_title,o=e.overview,l=e.genres,s=e.poster_path,d=e.id,u=JSON.parse(localStorage.getItem("watched"))||[],p=JSON.parse(localStorage.getItem("queue"))||[],m=u.some((function(e){return e.id===d})),v=p.some((function(e){return e.id===d})),g=l.map((function(e){return e.name})),h='\n        <div class="film-card">\n            <div class="film-card__img">\n            <img class="film-card__picture" src='.concat(s?"https://image.tmdb.org/t/p/w500/"+s:defimg,' alt="').concat(n,'" width="375">\n            </div>\n            <div class="film-card__info">\n            <h2 class="film-card__title">').concat(n,'</h2>\n            <div class="film-card__general-info">\n                <ul class="info-list">\n                <li class="info">\n                <p class="info-item">Vote/Votes</p>\n                <p class="info-result"><span class="accent-vote">').concat(i.toFixed(1),"</span>/").concat(a,'</p>\n                </li>\n                <li class="info">\n                <p class="info-item">Popularity</p>\n                <p class="info-result">').concat(r.toFixed(1),'</p>\n                </li>\n                <li class="info">\n                <p class="info-item">Original Title</p>\n                <p class="info-result  to-up">').concat(c,'</p>\n                </li>\n                <li class="info">\n                <p class="info-item">Genre</p>\n                <p class="info-result">').concat(t(f)(g),'</p>\n                </li>\n                </ul>\n            </div>\n            <p class="film-card__overview-title">About</p>\n            <p class="film-card__overview">').concat(o,'</p>\n            <div class="modal-film__buttons-block">\n                <button type="submit" class="btn-watched button" data-modal-watched-id=').concat(d,' data-action="').concat(m?"remove":"add",'">\n        ').concat(m?"Remove from watched":"Add to watch",'</button>\n                <button type="submit" class="btn-queue button" data-modal-queue-id=').concat(d,'  data-action="').concat(v?"remove":"add",'">\n        ').concat(v?"Remove from queue":"Add to queue",'</button>\n                <button type="submit" class="btn-trailer button" data-modal-trailer><span></span>\n        <span></span>\n        <span></span>\n        <span></span>Watch trailer</button>\n            </div>\n            </div>\n        </div>\n    ');return _.innerHTML=h,h}c.filmLibList.addEventListener("click",(function(e){return w.apply(this,arguments)})),r("UL92Z"),r("cDXQO"),r("ajW5N"),r("jm1bn")}();
//# sourceMappingURL=library.67295f4f.js.map
